<div class="container body-section" ng-init="init()">
  <h3 class="h3-header">New Applicants</h3>

  <!-- ///////////////////////////////INFO VIEW\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->

  <div ng-if="viewedPerson.name.first_name !== undefined" class="">

    <div class="info-buttons" >
      <button ng-click="changeView('info')">Info</button>
      <button ng-click="changeView('skills')">Skills</button>
      <button ng-click="changeView('essays')">Essays</button>
      <button ng-click="changeView('references')">References</button>
      <button ng-click="changeView('notes')">Notes</button>
    </div>

    <div class="info-display-name ">
      <h3>{{viewedPerson.name.first_name}} {{viewedPerson.name.last_name}}</h3>
    </div>

    <div class="info-view" ng-if="viewedPerson.edit !== true" ng-dblclick='edit()' class="container-fluid">
      <table class="" ng-if="activeView === 'info'">
        <tr>
          <th>Email</th>
          <td>{{viewedPerson.contactInfo.email}}</td>
        </tr>
        <tr>
          <th>Phone</th>
          <td>{{viewedPerson.contactInfo.phoneNum}}</td>
        </tr>
        <tr>
          <th>Address</th>
          <td>{{viewedPerson.contactInfo.address.street}} {{viewedPerson.contactInfo.address.city}}, {{viewedPerson.contactInfo.address.state}} {{viewedPerson.contactInfo.address.zip}}</td>
        </tr>
        <tr>
          <th>Employment</th>
          <td>{{viewedPerson.employment}}</td>
        </tr>
      </table>

      <div class="" ng-if="activeView === 'skills'">
        <table>
          <tr>
            <th>skills</th>
          </tr>
          <tr ng-repeat='skill in viewedPerson.skills'>
            <td>{{skill}}</td>
          </tr>
        </table>
        <table>
          <tr>
            <th>Interests</th>
          </tr>
          <tr ng-repeat='interest in viewedPerson.interests'>
            <td>{{interest}}</td>
          </tr>
        </table>
      </div>

      <table class="" ng-if="activeView === 'essays'">
        <tr>
          <th>Essay One</th>
          <td>{{viewedPerson.essayOne.response}}</td>
        </tr>
        <tr>
          <th>Essay Two</th>
          <td>{{viewedPerson.essayTwo.response}}</td>
        </tr>
        <tr>
          <th>Essay Three</th>
          <td>{{viewedPerson.essayThree.response}}</td>
        </tr>
        <tr>
          <th>Essay Four</th>
          <td>{{viewedPerson.essayFour.response}}</td>
        </tr>
      </table>

      <table ng-if="activeView === 'references'">
        <tr>
          <td></td>
          <td><b>Reference One</b></td>
          <th>Reference Two</th>
        </tr>
        <tr>
          <th>Name</th>
          <td>{{viewedPerson.referenceOne.name}}</td>
          <td>{{viewedPerson.referenceTwo.name}}</td>
        </tr>
        <tr>
          <th>Email</th>
          <td>{{viewedPerson.referenceOne.email}}</td>
          <td>{{viewedPerson.referenceTwo.email}}</td>
        </tr>
        <tr>
          <th>Phone</th>
          <td>{{viewedPerson.referenceOne.phone}}</td>
          <td>{{viewedPerson.referenceTwo.phone}}</td>
        </tr>
      </table>

      <table ng-if="activeView === 'notes'">
        <tr>
          <th>Notes</th>
          <td>{{viewedPerson.notes}}</td>
        </tr>
        <tr>
          <th>Orientations Scheduled</th>
          <td>{{viewedPerson.numMissedOrientaion}}</td>
        </tr>
      </table>
    </div>

    <!-- ///////////////////////////////EDIT VIEW\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->

    <div>
      <div class="info-view" ng-if="viewedPerson.edit === true" class="container-fluid">
        <table class="edit-table" ng-if="activeView === 'info'">
          <tr>
            <th>Name</th>
            <td>
              <input ng-model="viewedPerson.name.first_name"/>
              <input ng-model="viewedPerson.name.last_name"/>
            </td>
          </tr>
          <tr>
            <th>Email</th>
            <td><input ng-model='viewedPerson.contactInfo.email'/></td>
          </tr>
          <tr>
            <th>Phone</th>
            <td><input ng-model='viewedPerson.contactInfo.phoneNum'/></td>
          </tr>
          <tr>
            <th>Address</th>
            <td>
              <input ng-model='viewedPerson.contactInfo.address.street'/>
              <input ng-model='viewedPerson.contactInfo.address.city'/>
              <input ng-model='viewedPerson.contactInfo.address.state'/>
              <input ng-model='viewedPerson.contactInfo.address.zip'/>
            </td>
          </tr>
          <tr>
            <th>Employment</th>
            <td><input ng-model='viewedPerson.employment'/></td>
          </tr>
        </table>

        <div ng-if="activeView === 'skills'">
          <table class="edit-table">
            <tr>
              <th>skills</th>
            </tr>
            <tr ng-repeat='skill in viewedPerson.skills'>
              <td>
                <button class='btn-danger remove-button'
                type="button"
                ng-click="removeSkill($index)">
                {{skill}}
              </button>
            </td>
          </tr>
          <tr>
            <td>
              <select ng-model='selected.skill'
              ng-options="skill as skill for (skill, skill) in viewedPerson.availibleSkills">
            </select>
            <button type="button" ng-click='addSkill(selected.skill)'>Add Skill</button>
          </td>
        </tr>
      </table>
      <table class="edit-table">
        <tr>
          <th>Interests</th>
        </tr>
        <tr ng-repeat='interest in viewedPerson.interests'>
          <td>
            <button class='btn-danger remove-button'
            type="button"
            ng-click="removeInterest($index)">
            {{interest}}
          </button>
        </td>
      </tr>
      <tr>
        <td>
          <select ng-model='selected.interest'
          ng-options="interest as interest for (interest, interest) in viewedPerson.availibleInterests">
        </select>
        <br>
        <button type="button"
        ng-click='addInterest(selected.interest)'>
        Add Interest</button>
      </td>
    </tr>
    </table>

    </div>

    <table class="edit-table" ng-if="activeView === 'essays'">

      <tr>
        <th>Essay One:</th>
        <td><input ng-model='viewedPerson.essayOne.response'/></td>
      </tr>
      <tr>
        <th>Essay Two:</th>
        <td><input ng-model='viewedPerson.essayTwo.response'/></td>
      </tr>
      <tr>
        <th>Essay Three:</th>
        <td><input ng-model='viewedPerson.essayThree.response'/></td>
      </tr>
      <tr>
        <th>Essay Four:</th>
        <td><input ng-model='viewedPerson.essayFour.response'/></td>
      </tr>
    </table>


    <table class="edit-table" ng-if="activeView === 'references'">
      <tr>
        <td></td>
        <td><b>Reference One</b></td>
        <th>Reference Two</th>
      </tr>
      <tr>
        <th>Name</th>
        <td><input type='text' ng-model='viewedPerson.referenceOne.name'/></td>
        <td><input type='text' ng-model='viewedPerson.referenceTwo.name'/></td>
      </tr>
      <tr>
        <th>Email</th>
        <td><input type='text' ng-model='viewedPerson.referenceOne.email'/></td>
        <td><input type='text' ng-model='viewedPerson.referenceTwo.email'/></td>
      </tr>
      <tr>
        <th>Phone</th>
        <td><input type='text' ng-model='viewedPerson.referenceOne.phone'/></td>
        <td><input type='text' ng-model='viewedPerson.referenceTwo.phone'/></td>
      </tr>
    </table>

    <table class="edit-table" ng-if="activeView === 'notes'">
      <tr>
        <th>Notes</th>
        <td><input type='text' ng-model='viewedPerson.notes'/></td>
      </tr>
      <tr>
        <th>Orientations Scheduled</th>
        <td><input  type='number' ng-model='viewedPerson.numMissedOrientaion'/></td>
      </tr>
    </table>

    <div class="edit-control">
      <br>
      <button class='btn-danger remove-button' ng-click='removeApplicant(viewedPerson)'>
        REMOVE APPLICANT
      </button>
      <br>
      <br>
      <button class="edit-control-buttons red" type="button" ng-click="cancelEdit()">
        Cancel
      </button>
      <button class="edit-control-buttons green" type="button" ng-click="saveEdit()">
        Save
      </button>
    </div>
    </div>
    </div>
  </div>


<!-- ////////////////// 3 bins ////////////////// -->
  <div class="select-action-buttons">
    <button class=" btn btn-default" type="button" ng-click='email()'>Email Selected</button>
    <button class=" btn btn-default" type="button" ng-click="activate()">Activate Selected</button>
  </div>


  <div class='container hatchery'>
    <div class="buckets">
      <div
        ng-repeat='hat in hatchery'
        class="col-sm-3 bucket"
        data-drop="true"
        ng-model='hat'
        jqyoui-droppable="{onDrop : incubator($index), multiple:true}">
      <h3>{{ hatList[$index] }}</h3>
        <div class="caption">
          <button class="check-all-button btn btn-default" type="button" ng-click= "checkAll(hat)">Select All</button>
          <div
            class=" btn-draggable person"
            ng-repeat="cat in hat"
            ng-model="hat"
            ng-click="setActive($parent.$index, $index)"
            data-drag="true"
            data-jqyoui-options="{revert: 'invalid'}"
            jqyoui-draggable="{index: {{$index}},animate:true}"
            ng-class='buttonColor(cat)'
            >
            <!-- ng-click= 'setActive($parent.$index, $index)' -->

            <p>
              <input class="applicant-select" type="checkbox" ng-model="cat.checked">
              <span class="p-span">{{cat.name.last_name}}</span>
              <button ng-click="setViewedPerson($parent.$index, $index)" type="button" class="applicant-view-btn btn btn-sm btn-default">
                <!-- view -->
                <span class=" glyphicon glyphicon-search" aria-hidden="true"></span>
              </button>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- class="applicant-select" -->

</div>
